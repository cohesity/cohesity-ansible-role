---
- name: "Cohesity Protection Source: Set {{ cohesity_source.endpoint | default('endpoint') }} to state of {{ cohesity_source.state | default('present') }}"
  cohesity_source:
    cluster: "{{ cohesity_server }}"
    username: "{{ cohesity_admin }}"
    password: "{{ cohesity_password }}"
    validate_certs: "{{ cohesity_validate_certs | default(False) }}"
    state: "{{ cohesity_source.state | default('present') }}"
    endpoint: "{{ cohesity_source.endpoint | default('') }}"
    environment: "{{ cohesity_source.environment | default('Physical') }}"
    host_type: "{{ cohesity_source.host_type | default('Linux') }}"
    force_register: "{{ cohesity_source.force_register | default('False') }}"
    vmware_type: "{{ cohesity_source.vmware_type | default('VCenter') }}"
    refresh: "{{ cohesity_source.refresh | default(False) }}"
    source_username: "{{ cohesity_source.source_username | default('') }}"
    source_password: "{{ cohesity_source.source_password | default('') }}"
    nas_protocol: "{{ cohesity_source.nas_protocol | default('NFS') }}"
    nas_username: "{{ cohesity_source.nas_username | default('') }}"
    nas_password: "{{ cohesity_source.nas_password | default('') }}"
    skip_validation: "{{ cohesity_source.skip_validation | default(False) }}"
    nas_type: "{{ cohesity_source.nas_type | default('Host') }}"
  tags: always
